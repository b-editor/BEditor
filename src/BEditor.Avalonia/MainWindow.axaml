<Window
  xmlns="https://github.com/avaloniaui"
  xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
  xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
  xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
  xmlns:prop="clr-namespace:BEditor.Properties"
  xmlns:views="using:BEditor.Views"
  xmlns:vm="using:BEditor.ViewModels"
  xmlns:command="clr-namespace:BEditor.Command;assembly=BEditor.Core"
  xmlns:titlebar="using:BEditor.Views.CustomTitlebars"
  xmlns:ctr="using:BEditor.Controls"
  mc:Ignorable="d"
  d:DesignWidth="1440"
  d:DesignHeight="760"
  x:DataType="vm:MainWindowViewModel"
  ExtendClientAreaToDecorationsHint="True"
  ExtendClientAreaChromeHints="NoChrome"
  ExtendClientAreaTitleBarHeightHint="-1"
  DataContext="{x:Static vm:MainWindowViewModel.Current}"
  x:Class="BEditor.MainWindow">
  <Grid RowDefinitions="Auto,Auto,*,Auto,*,Auto" ColumnDefinitions="425,Auto,*,Auto,2*">

    <titlebar:WindowsTitlebar  Grid.Row="0" Grid.ColumnSpan="5" />

    <StackPanel Grid.Row="1" Orientation="Horizontal">
      <Button>
        <PathIcon Data="{StaticResource \\document_add\\svg\\ic_fluent_document_add_48_regular.svg_regular}"/>
      </Button>
      <Button>
        <PathIcon Data="{StaticResource \\folder_open\\svg\\ic_fluent_folder_open_24_regular.svg_regular}"/>
      </Button>
      <Button IsEnabled="False">
        <PathIcon Data="{StaticResource \\save\\svg\\ic_fluent_save_24_regular.svg_regular}"/>
      </Button>
    </StackPanel>

    <Label
      Grid.Row="2"
      Grid.RowSpan="3"
      Padding="0"
      HorizontalContentAlignment="Stretch"
      VerticalContentAlignment="Stretch"
      IsEnabled="{CompiledBinding IsOpened.Value, Mode=OneWay}"
      Content="{Binding App.Project.PreviewScene.SelectItem, Converter={StaticResource ClipPropertyConverter}, Mode=OneWay}"
      Background="{DynamicResource SystemControlHighlightListLowBrush}"/>

    <GridSplitter Grid.Row="2" Grid.RowSpan="3" Grid.Column="1"/>

    <Label
      Grid.Row="4"
      Grid.Column="2"
      Grid.ColumnSpan="3"
      IsEnabled="{CompiledBinding IsOpened.Value, Mode=OneWay}"
      Content="{Binding App.Project.PreviewScene, Converter={StaticResource SceneToTimelineConverter}, Mode=OneWay}"
      Background="{DynamicResource SystemControlHighlightListLowBrush}"/>

    <GridSplitter Grid.Row="3" Grid.Column="2" Grid.ColumnSpan="3"/>

    <views:Previewer
      DataContext="{CompiledBinding Previewer, Mode=OneTime}"
      Grid.Row="2"
      Grid.Column="4"/>

    <GridSplitter Grid.Row="2" Grid.Column="3"/>

    <TabControl
      Grid.Row="2"
      Grid.Column="2"
      Padding="0"
      Margin="4,0" >
      <TabControl.ItemsPanel>
        <ItemsPanelTemplate>
          <StackPanel Orientation="Horizontal"/>
        </ItemsPanelTemplate>
      </TabControl.ItemsPanel>
      <TabItem
        Header="{x:Static prop:Strings.Library}"
        FontSize="16"
        Padding="8" >
        <views:Library />
      </TabItem>
      <TabItem
        Header="{x:Static prop:Strings.ObjectViewer}"
        FontSize="16"
        Padding="8" >
      </TabItem>
      <TabItem
        Header="{x:Static prop:Strings.Log}"
        FontSize="16"
        Padding="8" >
      </TabItem>
    </TabControl>
  </Grid>
</Window>
